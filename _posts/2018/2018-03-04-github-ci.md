---
title: GitHubæŒç»­é›†æˆCI
tags: mood
key: 25
modify_date: 2019-04-30 18:00:00 +08:00
---

è®°å½•ä¸€ä¸‹ä¸ªäººæ˜¯å¦‚ä½•é€‰æ‹©GitHub CIå·¥å…·å¹¶è¿›è¡Œç›¸å…³é…ç½®ï¼Œ

----
# Overview
[CI](http://www.cnblogs.com/2018/archive/2011/06/15/2051693.html)çš„å¥½å¤„ä¹‹ä¸€å°±æ˜¯èƒ½å¤Ÿåœ¨æ¯ä¸€æ¬¡pushçš„æ—¶å€™ï¼Œæ£€æµ‹æ–°æäº¤çš„codeæ˜¯å¦èƒ½å¤Ÿé€šè¿‡test caseä¹ƒè‡³æ˜¯å¦èƒ½å¤Ÿé¡ºåˆ©æ‰“åŒ…ã€‚

> "æŒç»­é›†æˆå¹¶ä¸èƒ½æ¶ˆé™¤Bugï¼Œè€Œæ˜¯è®©å®ƒä»¬éå¸¸å®¹æ˜“å‘ç°å’Œæ”¹æ­£ã€‚" ---- Martin Fowler

----
# 1. CIé€‰æ‹©
GitHubä¸Šé¢é»˜è®¤æ¨èäº†7ç§CI[ä¾›åº”å•†](https://github.com/marketplace/category/continuous-integration)ï¼Œ
- CircleCIï¼Œä¸ªäººé¦–å…ˆé€‰æ‹©çš„æ˜¯CircleCI 2.0ï¼Œä½†ç”±äºå…¶Scalaä½¿ç”¨çš„æ˜¯sbtæ¥buildï¼Œä¸ä¸ªäººå½“å‰é¡¹ç›®æ‰€ç”¨Mavenä¸ä¸€è‡´ï¼Œæ‰€ä»¥å¼ƒäº†
- Travisï¼Œæ¥ç€çœ‹åˆ°äº†Travis CIï¼Œç‚¹è¿›å»ä¹‹åä¸€çœ‹é»˜è®¤è·‘åˆ°æ”¶è´¹è¯•ç”¨æ ï¼Œå½“ç„¶å®ƒå¯ä»¥é€‰åˆ°FLOSS(Free/ Libre Open Source Software)å…è´¹ç‰ˆ
- [AppVeyor](https://github.com/marketplace/appveyor)ï¼Œæœ€ç»ˆé€‰æ‹©äº†AppVeyorä½œä¸ºä¸ªäººé¡¹ç›®çš„CIå·¥å…·ï¼Œç¬¬ä¸€ç‚¹æ˜¯è‡ªå®šä¹‰è¯­ä¹‰ä¸°å¯Œï¼Œç¬¬äºŒç‚¹æ˜¯å…è´¹ï¼Œç¬¬ä¸‰ç‚¹æ˜¯[Spark](https://github.com/apache/spark/blob/master/appveyor.yml)ç”¨çš„ä¹Ÿæ˜¯å®ƒğŸ™‚


![image](https://user-images.githubusercontent.com/8369671/80785802-115e7a80-8bb4-11ea-8d20-4e0724f51fc0.png)
> GitHubæ¨èçš„CIä¾›åº”å•†

![image](https://user-images.githubusercontent.com/8369671/80785805-13283e00-8bb4-11ea-987f-c67b515fbb4b.png)
> CircleCI UI Controller

----
# 2. é…ç½®AppVeyor
AppVeyoræä¾›äº†ä¸¤ç§æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œ
- UIçš„SETTINGSæ 
- ä¸Šä¼ é…ç½®æ–‡ä»¶[appveyor.yml](https://github.com/chenfh5/sword/blob/master/appveyor.yml)åˆ°GitHubé¡¹ç›®çš„æ ¹ç›®å½•ï¼ˆæ¨èï¼‰

![image](https://user-images.githubusercontent.com/8369671/80785810-16bbc500-8bb4-11ea-9229-4e389983c10c.png)
> UIçš„SETTINGSæ 

----
# 3. ç¼–å†™é…ç½®æ–‡ä»¶
é…ç½®æ–‡ä»¶appveyor.ymlå¯[è‡ªå®šä¹‰](https://www.appveyor.com/docs/appveyor-yml/)ï¼Œå…·ä½“å¯ä»¥å‚è€ƒSparkçš„å†™æ³•ã€‚

----
# 4. é‡åˆ°çš„é—®é¢˜
åœ¨æ•´ä¸ªé…ç½®AppVeyorçš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸‹é¢ä¸¤ä¸ªé—®é¢˜ï¼Œ
1. AppVeyor[é»˜è®¤](https://github.com/appveyor/ci/issues/1060)å®‰è£…äº†Mavenï¼Œå¯ä»¥ä¸ç”¨åƒSparké‚£æ ·æ¯æ¬¡éƒ½[å®‰è£…](https://github.com/apache/spark/blob/master/dev/appveyor-install-dependencies.ps1#L85)ä¸€é
2. é…ç½®å¥½äº†ä¹‹å[Build success](https://ci.appveyor.com/project/chenfh5/sword/build/10-master)äº†ï¼Œä½†æ˜¯å‘ç°æ²¡æœ‰è¦†ç›–åˆ°test caseã€‚åŸå› æ˜¯Mavençš„pomæ–‡ä»¶æ²¡æœ‰é…ç½®pluginsï¼Œé…ç½®äº†ç›¸å…³pluginsä¹‹åï¼Œå‡ºç°äº†`No sources to compile`ï¼Œæ’æŸ¥åå‘ç°åŸæ¥æ˜¯è‡ªå·±åœ¨pomé‡Œå¤šå†™äº†pluginManagement tagï¼Œå¯¼è‡´rootçš„pluginä¸èµ·ä½œç”¨ğŸ˜³

è‡³æ­¤ï¼Œå®Œæˆäº†åŸºæœ¬çš„GitHub CIé…ç½®ï¼Œè€Œæ›´æ·±å…¥çš„CIåŠŸèƒ½è¿˜å¾…ç†Ÿæ‚‰ã€‚

![image](https://user-images.githubusercontent.com/8369671/80785815-18858880-8bb4-11ea-909e-ddf4354e71e2.png)
> 11-master log

----
# Reference
- [ç”¨ AppVeyor æŒç»­é›†æˆ Github ä¸­çš„ JS é¡¹ç›®](https://sebastianblade.com/using-appveyor-continuous-integration-in-javascript-project/)
- [Apache Spark](https://github.com/apache/spark/blob/master/appveyor.yml)
- [ä¸ªäººCIé¡¹ç›®](https://github.com/chenfh5/sword)
